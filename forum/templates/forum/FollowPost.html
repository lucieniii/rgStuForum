{% extends 'forum/index.html' %}
{% load static %}

{% block main1border %}
{% endblock %}

{% block main1 %}
{% endblock %}

{% block main2 %}
        {% for post in post_list %}
        <div class="d-sm-flex align-items-sm-center border-top {% if forloop.last %}border-bottom{% endif %}" style="padding: 10px 20px;">
            <div class="flex-column postInfo" style="width: 75%;">
                <div class="font" style="font-size: 16px;">
                    <a href="{{ post.get_absolute_url }}" style="text-decoration: none; color: #2f77c6; font-weight: bolder">
                        {{ post.title }}
                    </a>
                </div>
                <div class="font" style="font-size: 12px; color: gray; padding: 10px 0;">
                    {{ post.content }}
                </div>
                <div class="d-sm-flex align-items-sm-center">
                    <span class="font rounded"
                          style="background-color: #d9dee2; font-size: 14px; padding: 3px; margin-right: 10px; font-weight:600;">
                        &nbsp;{{ post.get_section_display }}&nbsp;
                    </span>
                        <span class="font"
                              style="font-size: 14px; font-weight:600;">
                        <i class="fa fa-comments-o" style="padding-right: 2px"></i>评论({{ post.comments.count}})
                    </span>
                </div>
            </div>
            <div class="userInfo" style="width: 25%; margin: 10px 0; display: flex; flex-direction: column;">
                <div class="d-sm-flex align-items-sm-center flex-shrink-1">
                    <a href="{% url 'space' post.author.id %}"><img class="rounded-circle" src="{{ post.author.avatar.url }}" style="width: 25px; height: 25px" /></a>
                    <span class="font" style="margin-left: 5px; font-size: 14px; font-weight:600;
                    {% if post.author.is_admin %}color: red;{% endif %}">{{ post.author.name }}</span>
                </div>
                <div class="flex-shrink-1" style="margin-top: 2px; padding-left: 4px; color: #636363;">
                    <time style="font-size: 14px; font-weight:600;">
                        <i class="fa fa-clock-o" style="padding-right: 2px"></i>
                        {{ post.create_time }}
                    </time>
                </div>
            </div>
        </div>
        {% endfor %}

{% endblock %}
